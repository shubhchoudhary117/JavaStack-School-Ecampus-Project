/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2d67=['clear','low','item','removeAttribute','viewItem','afterInit','element:','match','document','_registerHeadingIdAttributePostfixer','writer','model','type','getContainedElement','headingId.modelAttributeName','modelRange','registerPostFixer','differ','headingId','consume','mapper','getAttribute','_customDataDowncastHeadingsConversion','nodeAfter','conversion','name','attributes','_customUpcastHeadingsConversion','upcastDispatcher','schema','position','pluginName','hasAttribute','add','change','delete','extend','setAttribute','get','downcast','string','length','for','toViewElement','consumable','insert','editor','attribute:headingId:','getChanges','has','HeadingId'];(function(_0x3d497b,_0x2d67a9){const _0x1d2739=function(_0x4d409c){while(--_0x4d409c){_0x3d497b['push'](_0x3d497b['shift']());}};_0x1d2739(++_0x2d67a9);}(_0x2d67,0x165));const _0x1d27=function(_0x3d497b,_0x2d67a9){_0x3d497b=_0x3d497b-0x0;let _0x1d2739=_0x2d67[_0x3d497b];return _0x1d2739;};import{Plugin as _0x18ba1c}from'ckeditor5/src/core';import{uid as _0x30c2c8,priorities as _0x551362}from'ckeditor5/src/utils';export default class $ extends _0x18ba1c{static get[_0x1d27('0x1f')](){return _0x1d27('0x32');}[_0x1d27('0x5')](){const _0x2c85ea=this[_0x1d27('0x2e')];if(!_0x2c85ea['config'][_0x1d27('0x26')](_0x1d27('0xe'))){for(let _0x58b824=0x1;_0x58b824<=0x6;_0x58b824++){const _0x21fef9='heading'+_0x58b824;this['_customUpcastHeadingsConversion']('h'+_0x58b824),this['_customDataDowncastHeadingsConversion'](_0x21fef9),_0x2c85ea[_0x1d27('0xb')][_0x1d27('0x1d')]['isRegistered'](_0x21fef9)&&_0x2c85ea[_0x1d27('0xb')]['schema'][_0x1d27('0x24')](_0x21fef9,{'allowAttributes':'headingId'});}this[_0x1d27('0x9')]();}}[_0x1d27('0x1b')](_0x519875){this['editor']['data'][_0x1d27('0x1c')]['on'](_0x1d27('0x6')+_0x519875,(_0x44ca12,_0x46d3dc,_0x42d9a8)=>{const {consumable:_0x4193f0,writer:_0x103460}=_0x42d9a8,_0xd023f6=_0x46d3dc['viewItem'][_0x1d27('0x15')]('id'),_0x566feb=_0x46d3dc[_0x1d27('0xf')][_0x1d27('0xd')]();if(!(_0xd023f6&&_0xd023f6[_0x1d27('0x29')]||_0x566feb[_0x1d27('0x20')](_0x1d27('0x12'))))return _0x4193f0[_0x1d27('0x13')](_0x46d3dc[_0x1d27('0x4')],{'attributes':['id']}),void _0x103460[_0x1d27('0x25')]('headingId',_0x30c2c8(),_0x566feb);_0x4193f0['consume'](_0x46d3dc[_0x1d27('0x4')],{'attributes':['id']})&&_0x103460['setAttribute'](_0x1d27('0x12'),_0xd023f6,_0x566feb);},{'priority':_0x551362[_0x1d27('0x26')](_0x1d27('0x1'))+0.5});}[_0x1d27('0x16')](_0xdc9c98){this['editor'][_0x1d27('0x18')][_0x1d27('0x2a')](_0x1d27('0x27'))[_0x1d27('0x21')](_0x3d9c78=>_0x3d9c78['on'](_0x1d27('0x2f')+_0xdc9c98,(_0x5e066c,_0x536771,_0x3bb590)=>{if(!_0x3bb590[_0x1d27('0x2c')]['consume'](_0x536771[_0x1d27('0x2')],_0x5e066c[_0x1d27('0x19')]))return;const _0x424d60=_0x536771[_0x1d27('0x2')][_0x1d27('0x15')](_0x1d27('0x12')),_0x4aa661=_0x3bb590[_0x1d27('0x14')][_0x1d27('0x2b')](_0x536771[_0x1d27('0x2')]);_0x3bb590[_0x1d27('0xa')][_0x1d27('0x25')]('id',_0x424d60,_0x4aa661);}));}['_registerHeadingIdAttributePostfixer'](){const _0x247f03=this[_0x1d27('0x2e')],_0x16162e=new Set(),_0x3c0a88=new Set();function _0x326f0d(_0x2048e4,_0x7b4602){const _0x1a9f9d=_0x30c2c8();return _0x3c0a88[_0x1d27('0x21')](_0x1a9f9d),_0x2048e4[_0x1d27('0x25')]('headingId',_0x1a9f9d,_0x7b4602),_0x1a9f9d;}function _0x203663(_0x8964c2,_0x434edc){_0x8964c2[_0x1d27('0x3')](_0x1d27('0x12'),_0x434edc);}_0x247f03['model'][_0x1d27('0x8')][_0x1d27('0x10')](_0x3f7c59=>{const _0x19071f=_0x247f03[_0x1d27('0xb')][_0x1d27('0x8')][_0x1d27('0x11')][_0x1d27('0x30')]();let _0xa42d4b=!0x1;for(const _0x52880d of _0x19071f)if(_0x1d27('0x2d')==_0x52880d[_0x1d27('0xc')]&&_0x52880d[_0x1d27('0x19')]){if(_0x52880d[_0x1d27('0x19')][_0x1d27('0x7')](/heading\d/)){const _0x1ac758=_0x52880d[_0x1d27('0x1a')]['get'](_0x1d27('0x12'));_0x1d27('0x28')==typeof _0x1ac758?_0x16162e[_0x1d27('0x31')](_0x1ac758)?(_0x326f0d(_0x3f7c59,_0x52880d[_0x1d27('0x1e')][_0x1d27('0x17')]),_0xa42d4b=!0x0):_0x3c0a88[_0x1d27('0x21')](_0x1ac758):(_0x326f0d(_0x3f7c59,_0x52880d['position'][_0x1d27('0x17')]),_0xa42d4b=!0x0);}else'string'==typeof _0x52880d['attributes'][_0x1d27('0x26')](_0x1d27('0x12'))&&(_0x203663(_0x3f7c59,_0x52880d[_0x1d27('0x1e')]['nodeAfter']),_0xa42d4b=!0x0);}else{if('remove'==_0x52880d[_0x1d27('0xc')]){const _0x13971e=_0x52880d['attributes'][_0x1d27('0x26')](_0x1d27('0x12'));_0x1d27('0x28')==typeof _0x13971e&&_0x16162e[_0x1d27('0x23')](_0x13971e);}}return _0xa42d4b;}),_0x247f03[_0x1d27('0xb')]['document']['on'](_0x1d27('0x22'),()=>{_0x3c0a88['forEach'](_0x42fa27=>_0x16162e[_0x1d27('0x21')](_0x42fa27)),_0x3c0a88[_0x1d27('0x0')]();});}}