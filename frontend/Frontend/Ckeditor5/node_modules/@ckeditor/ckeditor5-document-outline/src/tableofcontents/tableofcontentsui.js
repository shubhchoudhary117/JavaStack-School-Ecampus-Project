/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{ButtonView as _0x4f6cde}from'ckeditor5/src/ui';import{CKEditorError as _0x4aead5}from'ckeditor5/src/utils';import{Plugin as _0x1732b9}from'ckeditor5/src/core';import _0x17ce07 from'../../theme/icons/table-of-contents.svg';export default class s extends _0x1732b9{static get['pluginName'](){return'TableOfContentsUI';}constructor(_0x18bf03){super(_0x18bf03),this['_licenseKeyCheckInterval']=null;}['init'](){const _0x17ed70=this['editor'],t=_0x17ed70['t'];_0x17ed70['ui']['componentFactory']['add']('tableOfContents',_0x3a9872=>{const _0x340e89=_0x17ed70['commands']['get']('insertTableOfContents'),_0x5c013b=new _0x4f6cde(_0x3a9872);return _0x5c013b['set']({'label':t('Table\x20of\x20contents'),'icon':_0x17ce07,'tooltip':!0x0}),_0x5c013b['bind']('isEnabled')['to'](_0x340e89,'isEnabled'),this['listenTo'](_0x5c013b,'execute',()=>_0x17ed70['execute']('insertTableOfContents')),_0x5c013b;}),this['licenseKey']=_0x17ed70['config']['get']('licenseKey');const _0x41fe72=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x3355be;for(const _0x5b3a90 in _0x41fe72){const _0x413f4d=_0x5b3a90,_0x1ac933=_0x41fe72[_0x413f4d];if('tableOfContentsLicenseKeyTrial'===_0x1ac933||'tableOfContentsLicenseKeyInvalid'===_0x1ac933||'tableOfContentsLicenseKeyValid'===_0x1ac933||'tableOfContentsLicenseKeyTrialLimit:operations'===_0x1ac933){delete _0x41fe72[_0x413f4d],_0x3355be=_0x1ac933;break;}}if('tableOfContentsLicenseKeyInvalid'===_0x3355be)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x4aead5('table-of-contents-invalid-license-key',null);if('tableOfContentsLicenseKeyTrial'===_0x3355be&&console['info']('You\x20are\x20using\x20the\x20trial\x20version\x20of\x20CKEditor\x205\x20table\x20of\x20contents\x20plugin\x20with\x20limited\x20usage.\x20Make\x20sure\x20you\x20will\x20not\x20use\x20it\x20in\x20the\x20production\x20environment.'),'tableOfContentsLicenseKeyTrialLimit:operations'===_0x3355be)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x4aead5('table-of-contents-trial-license-key-reached-limit-changes',null);'tableOfContentsLicenseKeyValid'===_0x3355be&&clearInterval(this['_licenseKeyCheckInterval']);},0x3e8);}}