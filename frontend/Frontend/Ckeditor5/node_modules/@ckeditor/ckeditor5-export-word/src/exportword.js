/*
 *             Copyright (c) 2016 - 2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x3ce284}from'ckeditor5/src/core';import{ButtonView as _0x55320b,View as _0x2fcb89,Notification as _0x39dd57}from'ckeditor5/src/ui';import _0x2eb0c3 from'./exportwordcommand';import _0x3818d5 from'../theme/icons/exportword.svg';import'../theme/exportword.css';export default class c extends _0x3ce284{static get['pluginName'](){return'ExportWord';}static get['requires'](){return['CloudServices',_0x39dd57];}['init'](){const _0x51650f=this['editor'],t=_0x51650f['t'],_0x464b45=_0x51650f['config']['get']('exportWord')||{};_0x51650f['commands']['add']('exportWord',new _0x2eb0c3(_0x51650f)),_0x51650f['ui']['componentFactory']['add']('exportWord',_0x173caa=>{const _0xb11919=_0x51650f['commands']['get']('exportWord'),_0x3817b4=new _0x55320b(_0x173caa);_0x3817b4['set']({'label':t('Export\x20to\x20Word'),'icon':_0x3818d5,'tooltip':!0x0}),_0x3817b4['bind']('isOn','isEnabled')['to'](_0xb11919,'isBusy','isEnabled'),_0x3817b4['extendTemplate']({'attributes':{'class':[_0x3817b4['bindTemplate']['if']('isOn','ck-exportword_status-pending')]}});const _0x42054a=new _0x2fcb89();return _0x42054a['setTemplate']({'tag':'span','attributes':{'class':['ck','ck-exportword__spinner-container']},'children':[{'tag':'span','attributes':{'class':['ck','ck-exportword__spinner']}}]}),_0x3817b4['children']['add'](_0x42054a),this['listenTo'](_0x3817b4,'execute',()=>{_0x51650f['execute']('exportWord',_0x464b45),_0x51650f['editing']['view']['focus']();}),_0x3817b4;});const _0x182872=_0x51650f['plugins']['get']('CloudServices');!0x1===_0x464b45['tokenUrl']?this['_token']=null:_0x464b45['tokenUrl']?_0x182872['registerTokenUrl'](_0x464b45['tokenUrl'])['then'](_0x2869e2=>{this['_token']=_0x2869e2;}):this['_token']=_0x182872['token'];}}